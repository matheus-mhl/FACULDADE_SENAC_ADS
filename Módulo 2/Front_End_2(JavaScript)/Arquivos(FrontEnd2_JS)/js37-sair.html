<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Saque em Material</title>
    <meta charset="utf-8">
    <script type="text/javascript" src="js/js37.js"></script>
</head>

<body>
    <h1>Saída do material</h1>
    <p><label for="txtQtde">Quantidade a sair:</label><input id="txtQtde" type="text" autofocus></p>
    <p id="txtMensagem"></p>
    <p><button id="btnRetornar" type="button" onclick="history.back()">Retornar</button>
       <button id="btnGravar" type="button" onclick="sair()">Gravar</button></p>
    <script type="text/javascript">
        function sair() {
            let mensagem;
            if (document.getElementById('txtQtde').value=="") {
                mensagem = "Preencha a quantidade a sair";
                document.getElementById('txtQtde').focus();
            } else if (isNaN(document.getElementById('txtQtde').value)) {
                mensagem = "Preencha uma quantidade numérica";
                document.getElementById('txtQtde').focus();
            } else {
                const material1 = new Material();
                if (material1.sairMaterial(Number(document.getElementById('txtQtde').value)))
                    mensagem = "Saída realizada com sucesso!";
                else 
                    mensagem =  "Saldo indisponível!";
            }
            document.getElementById("txtMensagem").innerHTML = `<b>${mensagem}</b>`;
        }
    </script>
</body>

</html>